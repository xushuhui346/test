<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>数组去重</title>
</head>
<body>
  
</body>
<script>
// 方法1  根据对象key值唯一特性去重（把数组的所有值当做对象的key值，然后赋值1，然后再遍历key值，输出数组）
function removeDouble(arr){
  var newArr = []
  var obj = {}
  for (var i = 0;i<arr.length;i++) {
    if (!obj[arr[i]]) {//obj中没有，就赋值newArr 仅限数组都为同类型 比如number,否则对象key值 1  ‘1’ 会被认为是同一个key
      obj[arr[i]]=1 
      newArr.push(arr[i])
    }
  }
  return newArr
}
// 方法2  正常循环赋值，新数组没有就push
function removeDouble2(arr){
  var newArr = []
  for (var i = 0;i<arr.length;i++) {
    if(newArr.join(',').indexOf(arr[i])===-1){
      newArr.push(arr[i])
    }
  }
  return newArr
}
// 方法3  先排序，再去重
function removeDouble3(arr){
  arr.sort()
  var newArr = [arr[0]]
  for (var i = 0;i<arr.length;i++) {
    if(arr[i]!=newArr[newArr.length-1]){
      newArr.push(arr[i])
    }
  }
  return newArr
}

// 方法4  数组下标法
function removeDouble4(arr){
  var newArr = []
  for(var i = 0;i<arr.length;i++){
    if(arr.indexOf(arr[i])===i){//如果当前数组的第i项在当前数组中第一次出现的位置不是i，那么表示第i项是重复的，忽略掉。否则存入结果数组。
      newArr.push(arr[i])
    }
  }
  return newArr
}

// 方法5 es6 set语法特性
function removeDouble6(arr){
  return [...new Set(arr)]
}

var arr = [1,2,3,4,5,1,2,3,4,5,2,4,6,7,3,22,31,12]
console.log('newarr==>'+ removeDouble(arr))
console.log('newarr2==>'+ removeDouble2(arr))
console.log('newarr3==>'+ removeDouble3(arr))
console.log('newarr4==>'+ removeDouble4(arr))
console.log('newarr5==>'+ removeDouble5(arr))
</script>
</html>